<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>BL TippLiga</title>

  <link rel="stylesheet" href="style-themed.css" />
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="fav2.png" sizes="16x16">
  <link rel="icon" type="image/png" href="fav2.png" sizes="32x32">
  <link rel="icon" type="image/png" href="fav2.png">
  <script src="loader.js" defer></script>

  <style>
    .layout{
      display:flex; flex-direction:column; gap:16px;
      max-width:1200px; margin:0 auto; padding:20px;
    }
    .header{ display:flex; align-items:center; justify-content:space-between; gap:14px; }
    .header-left{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .fav-crest{ width:46px; height:46px; object-fit:contain; border-radius:8px; border:1px solid var(--line,#e6eaf1); background:#fff; }
    .welcome{ color:var(--muted,#64748b); margin:4px 0 0; }

    /* liga-v√°lt√≥ balra, a c√≠m mell√© */
    .league-switch-left{ margin-left:8px; }
    @media (max-width:700px){ .league-switch-left{ width:100%; margin-left:0; } }

    .nav-grid{
      display:grid;
      grid-template-columns: repeat(6, minmax(0,1fr));
      gap:14px;
    }
    @media (max-width: 1100px){
      .nav-grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
    }
    @media (max-width: 700px){
      .nav-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    .nav-card{
      display:flex; gap:12px; align-items:center; text-decoration:none; color:inherit;
      padding:14px; background:#fff; border:1px solid var(--line,#e6eaf1); border-radius:14px;
      box-shadow:0 6px 18px rgba(15,23,42,.05);
    }
    .nav-card .icon-wrap{
      position:relative;
      width:42px; height:42px; border-radius:10px; display:flex; align-items:center; justify-content:center;
      background:color-mix(in oklab, var(--accent,#3b82f6) 15%, white);
      color:var(--accent,#3b82f6);
    }
    .nav-card .text{ display:flex; flex-direction:column; line-height:1.2; }
    .nav-card .title{ font-weight:800; }
    .nav-card .desc{ color:var(--muted,#64748b); font-size:12px; }
    .pill-badge{
      display:inline-flex; align-items:center; justify-content:center;
      min-width:18px; height:18px; padding:0 6px; margin-left:6px;
      border-radius:999px; background:#ef4444; color:#fff; font-size:12px; font-weight:700;
      line-height:1; vertical-align:middle;
    }
    .pill-badge[hidden]{ display:none !important; }

    .card{
      background:#fff; border:1px solid var(--line,#e6eaf1); border-radius:12px;
      box-shadow:0 6px 18px rgba(0,0,0,.06);
      overflow:hidden;
    }
    .card h3{ margin:0; padding:10px 12px; border-bottom:1px solid var(--line,#e6eaf1); background:#f7f9fd; }

    .btn-accent{
      min-height:40px; padding:10px 14px; border-radius:10px;
      background:var(--accent,#3b82f6); color:#fff; border:1px solid var(--line,#e6eaf1);
      font-weight:600; cursor:pointer; display:inline-flex; align-items:center; gap:8px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
      text-decoration:none;
    }
    .btn-accent:hover{ filter:brightness(.95); }
    .btn-accent:focus{ outline:2px solid color-mix(in oklab, var(--accent,#3b82f6) 30%, white); outline-offset:2px; }
    .btn-icon{ width:18px; height:18px; display:inline-block; }

    /* Chat */
    .chat-fab{
      position:fixed; right:22px; bottom:22px; z-index:999;
      width:52px; height:52px; border-radius:999px; border:0;
      background:var(--accent,#3b82f6); color:#fff; cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 8px 26px rgba(0,0,0,.15);
    }
    .chat-fab .fab-badge{
      position:absolute; top:-4px; right:-4px;
      min-width:20px; height:20px; padding:0 6px;
      border-radius:999px; background:#ef4444; color:#fff; font-size:12px; font-weight:800; line-height:20px; display:none;
    }
    .chat-fab.has-unread .fab-badge{ display:inline-block; }
    .chat-panel{
      position:fixed; right:22px; bottom:86px; z-index:998;
      width:380px; max-width:calc(100vw - 32px); max-height:70vh; display:none; flex-direction:column;
      background:#fff; border:1px solid var(--line,#e6eaf1); border-radius:14px; box-shadow:0 10px 32px rgba(0,0,0,.14);
    }
    .chat-panel.open{ display:flex; }
    .chat-head{
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; border-bottom:1px solid var(--line,#e6eaf1); background:#f7f9fd;
    }
    .chat-title{ font-weight:800; }
    #chatClose{
      width:28px; height:28px; border-radius:8px;
      font-size:18px; line-height:28px;
      display:inline-flex; align-items:center; justify-content:center;
      background:#eef2ff; color:#111; border:1px solid var(--line,#e6eaf1); cursor:pointer;
    }
    #chatClose:hover{ filter:brightness(0.95); }
    .chat-list{ overflow:auto; padding:8px 10px; }
    .chat-empty{ color:#64748b; font-size:13px; padding:8px 10px; }
    .msg{ padding:8px 10px; border-bottom:1px solid var(--line,#e6eaf1); display:flex; gap:8px; align-items:flex-start; }
    .msg .meta{ font-size:12px; color:var(--muted,#64748b); margin-bottom:2px; }
    .msg .text{ white-space:pre-wrap; word-break:break-word; }
    .msg .del{
      margin-left:auto; background:#fee2e2; color:#991b1b; border:1px solid #fecaca;
      padding:2px 8px; border-radius:8px; font-size:12px; cursor:pointer; display:none;
    }
    .msg:hover .del{ display:inline-block; }
    #chatComposer{
      display:flex; gap:8px; align-items:center;
      padding:10px; border-top:1px solid var(--line,#e6eaf1); background:#fff;
    }
    #chatInput{
      background:#fff; color:#111;
      border:1px solid var(--line,#e6eaf1);
      height:40px; padding:8px 10px; border-radius:10px;
      font-size:14px; outline:none; width:100%; box-sizing:border-box;
    }
    #chatInput::placeholder{ color:#6b7280; }
    #chatSendBtn{
      min-width:90px; padding:8px 12px; border-radius:10px;
      background:var(--accent,#3b82f6); color:#fff; border:0; font-weight:600; cursor:pointer;
    }
  </style>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import {
      getFirestore,
      doc, getDoc, setDoc,
      collection, getDocs, addDoc, deleteDoc, serverTimestamp,
      query, where, orderBy, onSnapshot
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    import { initLeagueSwitcher } from "./league-switcher.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC2xpMW1xgaWIdI2JoEhK23vkC0FTF2PKc",
      authDomain: "tippliga-4b3af.firebaseapp.com",
      projectId: "tippliga-4b3af",
      storageBucket: "tippliga-4b3af.appspot.com",
      messagingSenderId: "720359845241",
      appId: "1:720359845241:web:d3d6edcac6b43ebff053a8"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // BL/UCL mez≈ëny ‚Äì c√≠merek (profil-b√©lyeg)
    const crestMap = {
      "Ajax": "ucl_crest/ajax.png",
      "Arsenal": "ucl_crest/arsenal.png",
      "Atalanta": "ucl_crest/atalanta.png",
      "Athletic Bilbao": "ucl_crest/athletic.png",
      "Atl√©tico Madrid": "ucl_crest/atletico.png",
      "Barcelona": "ucl_crest/barcelona.png",
      "Bayern M√ºnchen": "ucl_crest/bayern.png",
      "Benfica": "ucl_crest/benfica.png",
      "Borussia Dortmund": "ucl_crest/borussia.png",
      "Bod√∏/Glimt": "ucl_crest/bodo.png",
      "Club Bruges": "ucl_crest/brugge.png",
      "Chelsea": "ucl_crest/chelsea.png",
      "FC K√∂benhavn": "ucl_crest/copenhagen.png",
      "Eintracht Frankfurt": "ucl_crest/frankfurt.png",
      "Galatasaray": "ucl_crest/galata.png",
      "Internazionale": "ucl_crest/inter.png",
      "Juventus": "ucl_crest/juventus.png",
      "Bayer Leverkusen": "ucl_crest/leverkusen.png",
      "Liverpool": "ucl_crest/liverpool.png",
      "Manchester City": "ucl_crest/mancity.png",
      "Olympique Marseille": "ucl_crest/marseille.png",
      "Monaco": "ucl_crest/monaco.png",
      "Napoli": "ucl_crest/napoli.png",
      "Newcastle United": "ucl_crest/newcastle.png",
      "Olympiakosz Pireusz": "ucl_crest/olympiacos.png",
      "Pafosz": "ucl_crest/pafos.png",
      "Paris Saint-Germain": "ucl_crest/psg.png",
      "PSV": "ucl_crest/psv.png",
      "Qarabag": "ucl_crest/qarabag.png",
      "Real Madrid": "ucl_crest/real.png",
      "Slavia Praha": "ucl_crest/slavia.png",
      "Sporting CP": "ucl_crest/sporting.png",
      "Tottenham Hotspur": "ucl_crest/tottenham.png",
      "Union Saint-Gilloise": "ucl_crest/usg.png",
      "Villarreal": "ucl_crest/villareal.png",
      "Kajrat Almati": "ucl_crest/kairat.png"
    };

    function fmtTime(ts){
      try{ return ts.toDate().toLocaleString("hu-HU", { hour12:false }); }catch{ return ""; }
    }

    let currentUserEmail = "";
    let currentUserNick = "";
    let currentUserRole = "user";
    let favouriteTeamucl = "";
    let chatLastSeenUcl = null;

    document.addEventListener("DOMContentLoaded", () => {
      // Liga-v√°lt√≥ mount: BAL SZ√âL ‚Äì c√≠m mellett (mint a t√∂bbi UCL oldalon)
      initLeagueSwitcher({ mountTarget: document.getElementById('leagueSwitchMount') });

      onAuthStateChanged(auth, async (user) => {
        if (!user) { window.location.href = "login.html"; return; }

        currentUserEmail = user.email;
        const userRef = doc(db, "users", currentUserEmail);
        const userSnap = await getDoc(userRef);

        if (userSnap.exists()) {
          const data = userSnap.data();
          currentUserNick   = data.nickname || currentUserEmail;
          currentUserRole   = data.role || "user";
          favouriteTeamucl  = data.favouriteTeamucl || "";
          chatLastSeenUcl   = data.chatLastSeenUcl || null;
        } else {
          currentUserNick = currentUserEmail;
          currentUserRole = "user";
          favouriteTeamucl = "";
          chatLastSeenUcl = null;
        }

        document.getElementById("welcome").textContent = `√údv, ${currentUserNick}!`;
        if (currentUserRole === "admin") {
          const adminLink = document.getElementById("adminLink");
          if (adminLink) adminLink.style.display = "flex";
        }

        // T√©ma a kedvenc BL-csapat alapj√°n
        if (favouriteTeamucl) {
          const themeClass = "theme-" + favouriteTeamucl.toLowerCase().normalize("NFD")
            .replace(/[\u0300-\u036f]/g, '').replace(/[^a-z0-9]+/g, '-');
          document.body.classList.add(themeClass);

          const crest = crestMap[favouriteTeamucl];
          if (crest) {
            const img = document.getElementById("favCrest");
            img.src = crest; img.alt = favouriteTeamucl; img.hidden = false;
          }
        }

        // üî¥ Leadatlan tippek badge a Meccstippek k√°rty√°n
        updatePendingBadge(currentUserEmail);
        onSnapshot(collection(db,"ucl_matches"), () => updatePendingBadge(currentUserEmail));
        onSnapshot(query(collection(db,"ucl_tips"), where("user","==",  currentUserEmail)), () => updatePendingBadge(currentUserEmail));
        onSnapshot(query(collection(db,"ucl_tips"), where("email","==", currentUserEmail)), () => updatePendingBadge(currentUserEmail));

        // Chat (UCL)
        initChat(userRef);

        if (window.hideLoader) hideLoader();
      });

      document.getElementById("logout").addEventListener("click", () => {
        signOut(auth).then(() => window.location.href = "login.html");
      });
    });

    // === Leadatlan tippek sz√°ml√°l√≥ (UCL) ===
    async function updatePendingBadge(email){
      try{
        // K√∂zelg≈ë UCL-meccsek
        const upcomingSnap = await getDocs(
          query(collection(db,"ucl_matches"), where("startTime", ">=", new Date()))
        );
        const upcoming = upcomingSnap.docs.map(d => ({ id:d.id, ...d.data() }));

        // A felhaszn√°l√≥ legfrissebb tippjei (user/email OR)
        const [tipsUserSnap, tipsEmailSnap] = await Promise.all([
          getDocs(query(collection(db,"ucl_tips"), where("user","==",  email))),
          getDocs(query(collection(db,"ucl_tips"), where("email","==", email))),
        ]);

        const latestByMatch = new Map();
        [...tipsUserSnap.docs, ...tipsEmailSnap.docs].forEach(x=>{
          const t=x.data()||{}; const mid=t.matchId; if(!mid) return;
          const ts =(t.updatedAt?.toMillis?.()||t.createdAt?.toMillis?.()||t.timestamp?.toMillis?.()||0);
          const cur=latestByMatch.get(mid);
          const cts=(cur?.updatedAt?.toMillis?.()||cur?.createdAt?.toMillis?.()||cur?.timestamp?.toMillis?.()||0);
          if(!cur || ts>=cts) latestByMatch.set(mid,t);
        });

        const tippedIds = new Set(latestByMatch.keys());
        const pending = upcoming.filter(m => !tippedIds.has(m.id)).length;

        const badge = document.getElementById("tipsBadge");
        if (!badge) return;
        if (pending > 0){ badge.textContent = pending; badge.hidden = false; }
        else { badge.hidden = true; }
      }catch(e){
        console.warn("updatePendingBadge (UCL) error:", e);
      }
    }

    // === Chat (UCL k√ºl√∂n: chatMessages_ucl + chatLastSeenUcl) ===
    function initChat(userRef){
      const fab = document.getElementById('chatToggle');
      const fabBadge = document.getElementById('chatFabBadge');
      const panel = document.getElementById('chatPanel');
      const closeBtn = document.getElementById('chatClose');
      const listEl = document.getElementById('chatMessages');
      const inputEl = document.getElementById('chatInput');
      const sendBtn = document.getElementById('chatSendBtn');

      function open(){ panel.classList.add('open'); setTimeout(()=>inputEl?.focus(), 50); markSeen(); }
      function close(){ panel.classList.remove('open'); }
      function toggle(){ panel.classList.contains('open') ? close() : open(); }
      fab.addEventListener('click', toggle);
      closeBtn.addEventListener('click', close);

      let lastSeenMs = chatLastSeenUcl?.toMillis ? chatLastSeenUcl.toMillis() : 0;

      const qAll = query(collection(db,'chatMessages_ucl'), orderBy('ts','asc')); // UCL kollekci√≥
      onSnapshot(qAll, snap => {
        listEl.innerHTML = '';
        if (snap.empty){
          const empty = document.createElement('div');
          empty.className = 'chat-empty';
          empty.textContent = 'M√©g nincs √ºzenet. L√©gy te az els≈ë!';
          listEl.appendChild(empty);
        } else {
          let unread = 0;
          snap.forEach(docu=>{
            const d = docu.data();
            const tsMs = d.ts?.toMillis?.() || 0;
            if (tsMs > lastSeenMs) unread++;

            const row = document.createElement('div');
            row.className = 'msg';
            row.innerHTML = `
              <div style="flex:1 1 auto">
                <div class="meta"><strong>${(d.nick || 'Ismeretlen').replace(/</g,'&lt;').replace(/>/g,'&gt;')}</strong> ‚Ä¢ ${d.ts ? fmtTime(d.ts) : ''}</div>
                <div class="text">${(d.text || '').replace(/</g,'&lt;').replace(/>/g,'&gt;')}</div>
              </div>
            `;
            const canDelete = (currentUserRole === 'admin') || (d.email === currentUserEmail);
            if (canDelete){
              const del = document.createElement('button');
              del.className = 'del';
              del.textContent = 'T√∂rl√©s';
              del.title = '√úzenet t√∂rl√©se';
              del.addEventListener('click', async ()=>{ try{ await deleteDoc(doc(db, 'chatMessages_ucl', docu.id)); }catch(e){} });
              row.appendChild(del);
            }
            listEl.appendChild(row);
          });

          if (!panel.classList.contains('open') && unread > 0){
            fab.classList.add('has-unread');
            fabBadge.textContent = unread > 99 ? '99+' : String(unread);
          } else {
            fab.classList.remove('has-unread');
            fabBadge.textContent = '';
          }

          setTimeout(()=>{ listEl.scrollTop = listEl.scrollHeight; }, 0);
        }
      });

      sendBtn.addEventListener('click', async ()=>{
        const txt = (inputEl.value || '').trim();
        if (!txt){ inputEl.focus(); return; }
        const backup = txt;
        inputEl.value = '';
        try{
          await addDoc(collection(db,'chatMessages_ucl'), {
            email: currentUserEmail, nick: currentUserNick || 'Ismeretlen', text: backup, ts: serverTimestamp()
          });
          if (panel.classList.contains('open')) await markSeen();
        }catch(e){
          inputEl.value = backup; inputEl.focus();
        }
      });
      inputEl.addEventListener('keydown', (e)=>{
        if (e.key === 'Enter' && !e.shiftKey){ e.preventDefault(); sendBtn.click(); }
      });

      async function markSeen(){
        try{
          await setDoc(userRef, { chatLastSeenUcl: serverTimestamp() }, { merge:true });
          lastSeenMs = Date.now();
          fab.classList.remove('has-unread');
          fabBadge.textContent = '';
        }catch(e){}
      }
    }
  </script>
</head>
<body>
  <div class="layout">
    <div class="header">
      <div class="header-left">
        <img id="favCrest" class="fav-crest" alt="" hidden>
        <div>
          <h1>BL TippLiga</h1>
          <p id="welcome" class="welcome"></p>
        </div>
        <!-- LIGA / TIPPJ√ÅT√âK V√ÅLASZT√ì ‚Äì BAL OLDALON A C√çM MELLLETT -->
        <div id="leagueSwitchMount" class="league-switch-left" aria-label="Tippj√°t√©k v√°laszt√≥"></div>
      </div>

      <div>
        <!-- Kil√©p√©s -->
        <button id="logout" class="btn-accent" aria-label="Kil√©p√©s">
          <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M16 13v-2H7V7l-5 5 5 5v-4h9zm3-10H11a2 2 0 0 0-2 2v3h2V5h8v14h-8v-3H9v3a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2z"/>
          </svg>
          Kil√©p√©s
        </button>
      </div>
    </div>

    <nav class="nav-grid">
      <a class="nav-card" href="dashboard_ucl.html">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 3 2 12h3v8h6v-5h2v5h6v-8h3L12 3z"/>
          </svg>
        </div>
        <div class="text">
          <span class="title">F≈ëoldal</span>
          <span class="desc">Tabella, h√≠rek, kedvencek</span>
        </div>
      </a>

      <a class="nav-card" href="positions_ucl.html">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M9 4h6v16H9zM3 10h4v10H3zm14 6h4v4h-4z"/></svg>
        </div>
        <div class="text">
          <span class="title">Szezon v√©gi sorrend</span>
          <span class="desc">Ligaf√°zis Top 8, gy≈ëztes, g√≥lkir√°ly</span>
        </div>
      </a>

      <a class="nav-card" href="matches_ucl.html">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Z"/></svg>
        </div>
        <div class="text">
          <span class="title">
            Meccstippek
            <span id="tipsBadge" class="pill-badge" hidden></span>
          </span>
          <span class="desc">K√∂zelg≈ë meccsek & tippek</span>
        </div>
      </a>

      <a class="nav-card" href="results_ucl.html">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M9 2h6a2 2 0 0 1 2 2h2v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4h2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2Z"/></svg>
        </div>
        <div class="text">
          <span class="title">Eredm√©nyek</span>
          <span class="desc">Fordul√≥nk√©nti bont√°s</span>
        </div>
      </a>

      <a class="nav-card" href="leaderboard_ucl.html">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M17 3h3a2 2 0 0 1 2 2v1a5 5 0 0 1-5 5h-1a6 6 0 0 1-4 3.9V17h3v2H9v-2h3v-2.1A6 6 0 0 1 8 11H7A5 5 0 0 1 2 6V5a2 2 0 0 1 2-2z"/></svg>
        </div>
        <div class="text">
          <span class="title">√ñsszpontsz√°m</span>
          <span class="desc">Toplista & b√≥nusz</span>
        </div>
      </a>

      <a class="nav-card" href="profile_ucl.html">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5.5V22h18v-2.5C21 16.5 17 14 12 14Z"/></svg>
        </div>
        <div class="text">
          <span class="title">Profil</span>
          <span class="desc">Be√°ll√≠t√°sok & kedvenc csapat</span>
        </div>
      </a>

      <a class="nav-card" id="adminLink" href="admin_ucl.html" style="display:none;">
        <div class="icon-wrap" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8a4 4 0 1 1-4 4 4 4 0 0 1 4-4Z"/></svg>
        </div>
        <div class="text">
          <span class="title">Admin</span>
          <span class="desc">Szezon-z√°r & be√°ll√≠t√°sok</span>
        </div>
      </a>
    </nav>

    <!-- (Opcion√°lis) Tartalmi k√°rtya ‚Äì √ºdv√∂zl≈ë -->
    <section class="card">
      <h3>√údv a BL TippLiga f≈ëoldal√°n!</h3>
      <div style="padding:12px">
        Itt a fels≈ë men√ºb≈ël el√©red a szezon v√©gi sorrendet, a meccstippeket, az eredm√©nyeket √©s a toplist√°t.
      </div>
    </section>
  </div>

  <!-- Chat -->
  <button id="chatToggle" class="chat-fab" title="K√∂z√∂ss√©gi chat">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
      <path d="M4 4h16a2 2 0 0 1 2 2v11a2 2 0 0 1 2 2H8l-4 3V6a2 2 0 0 1 2-2Z"/>
    </svg>
    <span id="chatFabBadge" class="fab-badge"></span>
  </button>

  <section id="chatPanel" class="chat-panel" aria-label="K√∂z√∂ss√©gi chat">
    <div class="chat-head">
      <div class="chat-title">K√∂z√∂ss√©gi chat</div>
      <button id="chatClose" aria-label="Bez√°r√°s">‚úï</button>
    </div>
    <div id="chatMessages" class="chat-list" role="log" aria-live="polite"></div>
    <div id="chatComposer">
      <input id="chatInput" type="text" placeholder="√çrj valamit‚Ä¶" autocomplete="off">
      <button id="chatSendBtn">K√ºld√©s</button>
    </div>
  </section>
</body>
</html>
